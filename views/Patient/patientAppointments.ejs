<%- include('../Includes/PatientHead.ejs') %>

<!-- BEGIN: Vendor CSS-->
<link rel="stylesheet" type="text/css" href="/css/vendors.min.css" />
<link href="/css/KendoUi/examples-offline.css" rel="stylesheet" />
<link href="/css/KendoUi/kendo.common.min.css" rel="stylesheet" />
<link href="/css/KendoUi/kendo.default.min.css" rel="stylesheet" />
<link href="/css/KendoUi/kendo.default.mobile.min.css" rel="stylesheet" />

<!-- END: Vendor CSS-->

<!-- BEGIN: Theme CSS-->
<link rel="stylesheet" type="text/css" href="/css/bootstrap.css" />
<link rel="stylesheet" type="text/css" href="/css/bootstrap-extended.css" />
<link rel="stylesheet" type="text/css" href="/css/colors.css" />
<link rel="stylesheet" type="text/css" href="/css/components.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css" />

<!-- END: Theme CSS-->

<!-- BEGIN: Page CSS-->
<link rel="stylesheet" type="text/css" href="/css/vertical-menu.css" />
<!-- END: Page CSS-->

<!-- BEGIN: Custom CSS-->
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<!-- END: Custom CSS-->
</head>
<!-- END: Head-->

<!-- body tag and blue nav bar  -->
<%- include('../Includes/patientNav.ejs') %>

<!-- complete side menu of Patient -->
<%- include('../Includes/patientSideMenu.ejs') %>
<script id="appointment-template" type="text/html">
      <div class="container">
     

  {{#result}}
  {{#isBooked}}
     <div class="row appointmentRow" >

      <div class="pr-50 doc-img col-sm-2">
        {{#doctorPhoto}}
        <img src=" {{doctorPhoto}}" alt="avtar img holder">      
       {{/doctorPhoto}}
       {{^doctorPhoto}}
       <img src="/assets/images/maledoc.png" alt="avtar img holder">  
       {{/doctorPhoto}} 
  
      </div>
    <div class="col-sm-4" style="margin: 12% 0% 2% 5%;">
      <div class="media">
        <div >
          <h5 class="docName">
           Dr.{{DoctorName}}
          </h5>
          <span class="txtspecialization"><b>Specialization</b>: {{DoctorSpecialization}}</span>
        </div>
      </div>
    </div>
    <div class="col-sm-4" style="vertical-align: middle; margin: auto;">
      <i class="bx bx-time"><span class="date-time-text">{{AppointmentDate | Shortdate}}</span>
        <span class="date-time-text">{{AppointmentStartTime}} - {{AppointmentEndTime}} </span></i>
    </div>
    <div class="col-sm-4">           
       <button   type="button" class="btn btn-outline-primary " 
       appId="{{AppointmentDetailID}}" doctorId= "{{DoctorId}}"  patientid ="{{PatientID}}"
      data-toggle="modal" data-target="#primary" style="float: right; margin-left: 1%; font-weight:600">
        <i class="bx bx-x"></i>
        CANCEL
      </button>
    </div>
  </div> 
  {{/isBooked}}

  {{^isBooked}}
  <div class="row appointmentRow">
    <div class="pr-50 doc-img col-sm-2">
      {{#doctorPhoto}}
      <img src=" {{doctorPhoto}}" alt="avtar img holder">      
     {{/doctorPhoto}}
     {{^doctorPhoto}}
     <img src="/assets/images/maledoc.png" alt="avtar img holder">  
     {{/doctorPhoto}} 

    </div>
    <div class="col-sm-3" >
      <div class="media" style="margin: 12% 0% 2% 5%;">       
        <div>
          <h5 class="docName">
           Dr. {{DoctorName}}
          </h5>
          <span class="txtspecialization"><b>Specialization</b>: {{DoctorSpecialization}}</span>
        </div>
      </div>
    </div>
    <div class="col-sm-3" style="vertical-align: middle; margin: auto;text-align: center;">
      <i class="bx bx-time">
        <span class="date-time-text">{{AppointmentStartTime}} - {{AppointmentEndTime}} </span>
        <span class="date-time-text">{{AppointmentDate | Shortdate}}</span>
      </i>
    </div>
    <div class="col-sm-4" style="vertical-align: middle; margin: auto;">     
       <button type="button" class="btn btn-outline-primary "
      appId="{{AppointmentDetailID}}" doctorId= "{{DoctorId}}"  patientid ="{{PatientID}}"
      data-toggle="modal" data-target="#primary" style="margin-left: 3%; float: right;font-weight:600;">
        <i class="bx bx-check"></i>
        CANCEL
      </button>
      <a href="/patientReqAppointment?DoctorId={{DoctorId}}&DocName={{DoctorName}}&date={{AppointmentDate}}&appId={{AppointmentDetailID}}">
        <button type="button" class="btn btn-outline-primary " style=" float: right;font-weight:600">
          <i class="bx bx-edit"></i>
          EDIT
        </button>
      </a>

    </div>
  </div> 
  {{/isBooked}}
  
  {{/result}}

  {{^result.0}}
  <div class="row ">
    <div class="col-sm"></div>   
      <div class="col-sm mid-col-empty">       
          <i class="bx bx-time"><b class="bold-time">
            No appointment found</b></i>     
        </div>      
      <div class="col-sm trRow"></div>   
  </div>
  {{/result.0}}
</script>

<!--primary theme Modal -->
<div class="modal fade text-left" id="primary" tabindex="-1" role="dialog" aria-labelledby="myModalLabel160"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header bg-primary ">
        <h4 id="myModalLabel160">
          Appointment Cancellataions
        </h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>       
      </div>
      <div class="modal-body">
        <h5 class="txtnormal">Are You Sure You Want to Cancel This Appointment</h5>
      </div>
      <div class="modal-footer">
        <button type="button" class="btnConfirm btn btn-light-secondary">
          <i class="bx bx-x d-block d-sm-none"></i>
          <span class="d-none d-sm-block">Confirm</span>
        </button>       
      </div>
    </div>
  </div>
</div>
<!--end of theme model-->

<!-- BEGIN: Content-->
<hr />
<div class="app-content content">
  <div class="content-overlay"></div>
  <div class="content-wrapper">
    <div class="content-header row"></div>
    <div class="content-body">

      <div class="d-flex flex-row">
        <div class="page-heading">
          <h3><i class='iconapp bx bx-time-five'></i><span>Booked Appointments</span></h3>
        </div>
        <div style="margin-left: auto;margin-top:25px;">
          <a href="/patientDashboard
              ">
            <button type="button" class="btn hvr-shutter-in-horizontal" style="font-size: large; border-radius: 5px;">
              <i class="bx bxs-user-plus viewalldoc-icon"></i>
              View Available Doctors
            </button>
          </a>
        </div>
      </div>
      <br />
      <!-- MY APPOINTMENTS START -->
      <section id="appointments">

      </section>
      <br />
      <!-- MY APPOINTMENTS ENDS -->
    </div>
  </div>
</div>

<!-- END: Content-->

<!-- END: Content-->

<script src="/js/vendors.min.js"></script>
<!-- BEGIN Vendor JS-->

<script src="/js/vertical-menu-light.js"></script>
<script src="/js/app-menu.js"></script>
<script src="/js/app.js"></script>

<!-- BEGIN: Services calling JS-->
<script src="/js/Services/PatientAppointmentServices.js"></script>
<script src="/js/Services/loadingoverlay.min.js"></script>

<!-- END: Page JS-->

<!-- END: JS-->
</body>
<!-- END: Body-->

</html>